{"componentChunkName":"component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js","path":"/writing-good-unit-tests/","result":{"data":{"site":{"siteMetadata":{"title":"WeAreOutMan","social":[{"name":"github","url":"https://github.com/weareoutman"},{"name":"GitHub","url":"https://github.com/gatsbyjs"}]}},"blogPost":{"__typename":"MdxBlogPost","id":"325a58d7-3ae7-5369-bb10-3e21fe827670","excerpt":"“万物之始，大道至简” 本文尝试从简单的单元测试思想着手，探讨如何编写良好的单元测试。以下将主要基于  TypeScript ,  Jest ,  React ,  Enzyme…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"编写良好的单元测试\",\n  \"date\": \"2019-06-15T00:00:00.000Z\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component '\" + name + \"' was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u201C\\u4E07\\u7269\\u4E4B\\u59CB\\uFF0C\\u5927\\u9053\\u81F3\\u7B80\\u201D\")), mdx(\"p\", null, \"\\u672C\\u6587\\u5C1D\\u8BD5\\u4ECE\\u7B80\\u5355\\u7684\\u5355\\u5143\\u6D4B\\u8BD5\\u601D\\u60F3\\u7740\\u624B\\uFF0C\\u63A2\\u8BA8\\u5982\\u4F55\\u7F16\\u5199\\u826F\\u597D\\u7684\\u5355\\u5143\\u6D4B\\u8BD5\\u3002\\u4EE5\\u4E0B\\u5C06\\u4E3B\\u8981\\u57FA\\u4E8E \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.typescriptlang.org/\"\n  }), \"TypeScript\"), \", \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://jestjs.io/\"\n  }), \"Jest\"), \", \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reactjs.org/\"\n  }), \"React\"), \", \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://airbnb.io/enzyme/\"\n  }), \"Enzyme\"), \" \\u7ED9\\u51FA\\u793A\\u4F8B\\u3002\\u5173\\u4E8E\\u5355\\u5143\\u6D4B\\u8BD5\\u7684\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://zh.wikipedia.org/wiki/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95\"\n  }), \"\\u57FA\\u672C\\u6982\\u5FF5\\u548C\\u91CD\\u8981\\u6027\"), \"\\u4E0D\\u5728\\u672C\\u6587\\u8BA8\\u8BBA\\u8303\\u56F4\\u3002\"), mdx(\"h2\", {\n    \"id\": \"基本方法\"\n  }, \"\\u57FA\\u672C\\u65B9\\u6CD5\"), mdx(\"p\", null, \"\\u7F16\\u5199\\u5355\\u5143\\u6D4B\\u8BD5\\u7684\\u57FA\\u672C\\u65B9\\u6CD5\\u5176\\u5B9E\\u5F88\\u7B80\\u5355\\uFF1A\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u7ED9\\u5B9A\\u8F93\\u5165\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u8FD0\\u884C\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u65AD\\u8A00\\u8F93\\u51FA\")), mdx(\"p\", null, \"\\u800C\\u4E00\\u4E2A\\u597D\\u7684\\u5355\\u5143\\u6D4B\\u8BD5\\u7684\\u8981\\u6C42\\u4E5F\\u5F88\\u7B80\\u5355\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u8986\\u76D6\\u8DB3\\u591F\\u7684\\u8F93\\u5165\\u573A\\u666F\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u8FDB\\u884C\\u5145\\u5206\\u7684\\u8F93\\u51FA\\u65AD\\u8A00\")), mdx(\"p\", null, \"\\u4E00\\u4E2A\\u6700\\u7B80\\u5355\\u7684\\u4F8B\\u5B50\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-ts\"\n  }), \"// `add.ts`\\nfunction add(a: number, b: number): number {\\n  return a + b;\\n}\\n\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-ts\"\n  }), \"// `add.spec.ts`\\ntest(\\\"add(1, 2) should return 3\\\", () => {\\n  expect(add(1, 2)).toBe(3);\\n});\\n\")), mdx(\"p\", null, \"\\u6211\\u4EEC\\u7F16\\u5199\\u5355\\u5143\\u6D4B\\u8BD5\\u7684\\u6B65\\u9AA4\\u5982\\u4E0B\\uFF1A\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u7ED9\\u5B9A\\u8F93\\u5165\\uFF1A\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"2\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u8FD0\\u884C\\uFF1A \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"add(...)\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u65AD\\u8A00\\u8F93\\u51FA\\uFF1A\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"expect(...).toBe(3)\"))), mdx(\"p\", null, \"\\u662F\\u4E0D\\u662F\\u5F88\\u7B80\\u5355\\uFF1F\\u5F53\\u7136\\uFF0C\\u771F\\u5B9E\\u4E1A\\u52A1\\u573A\\u666F\\u4E0B\\u6211\\u4EEC\\u8981\\u6D4B\\u8BD5\\u7684\\u5355\\u5143\\u8FDC\\u6BD4\\u4E0A\\u8FF0\\u4F8B\\u5B50\\u590D\\u6742\\u5F97\\u591A\\u3002\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u8F93\\u5165\\u66F4\\u52A0\\u590D\\u6742\\uFF0C\\u9664\\u4E86\\u666E\\u901A\\u7684\\u51FD\\u6570\\u8F93\\u5165\\u53C2\\u6570\\uFF0C\\u8FD8\\u53EF\\u80FD\\u6709\\u5916\\u90E8\\u7684\\u4E8B\\u4EF6\\uFF0C\\u56E0\\u6B64\\u96BE\\u4EE5\\u8986\\u76D6\\u6240\\u6709\\u573A\\u666F\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u8F93\\u51FA\\u66F4\\u52A0\\u590D\\u6742\\uFF0C\\u9664\\u4E86\\u666E\\u901A\\u7684\\u51FD\\u6570\\u8F93\\u51FA\\u7ED3\\u679C\\uFF0C\\u8FD8\\u53EF\\u80FD\\u6709\\u5BF9\\u5916\\u90E8\\u7684\\u526F\\u4F5C\\u7528\\uFF0C\\u56E0\\u6B64\\u96BE\\u4EE5\\u65AD\\u8A00\\u8FD0\\u884C\\u7ED3\\u679C\")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u8FD9\\u91CC\\u63D0\\u5230\\u7684\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u8F93\\u5165\"), \"\\u3001\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u8F93\\u51FA\"), \"\\u4E0D\\u518D\\u662F\\u72ED\\u4E49\\u4E0A\\u7684\\u51FD\\u6570\\u8F93\\u5165\\u3001\\u8F93\\u51FA\\u3002\\u6211\\u4EEC\\u5C06\\u6240\\u6709\\u53EF\\u80FD\\u5F71\\u54CD\\u6D4B\\u8BD5\\u5BF9\\u8C61\\u884C\\u4E3A\\u7684\\u5916\\u90E8\\u56E0\\u7D20\\u90FD\\u79F0\\u4E4B\\u4E3A\\u8F93\\u5165\\uFF0C\\u5C06\\u6240\\u6709\\u6D4B\\u8BD5\\u5BF9\\u8C61\\u8FD0\\u884C\\u540E\\u5BF9\\u5916\\u90E8\\u9020\\u6210\\u7684\\u5F71\\u54CD\\u90FD\\u79F0\\u4E4B\\u4E3A\\u8F93\\u51FA\\u3002\\u8FD9\\u6837\\u7406\\u89E3\\u4E4B\\u540E\\uFF0C\\u6211\\u4EEC\\u5C31\\u53EF\\u4EE5\\u5316\\u7E41\\u4E3A\\u7B80\\uFF0C\\u5C06\\u6D4B\\u8BD5\\u8FC7\\u7A0B\\u56DE\\u5F52\\u5230\\u524D\\u9762\\u63D0\\u5230\\u7684\\u6700\\u57FA\\u672C\\u7684\\u65B9\\u6CD5\\u4E0A\\u3002\")), mdx(\"p\", null, \"\\u6240\\u4EE5\\u7F16\\u5199\\u826F\\u597D\\u7684\\u5355\\u5143\\u6D4B\\u8BD5\\u9996\\u5148\\u8981\\u505A\\u7684\\u5C31\\u662F\\u5398\\u6E05\\u6D4B\\u8BD5\\u5BF9\\u8C61\\u7684\\u8F93\\u5165\\u3001\\u8F93\\u51FA\\uFF0C\\u638C\\u63E1\\u8986\\u76D6\\u4E0D\\u540C\\u5F62\\u5F0F\\u7684\\u8F93\\u5165\\u3001\\u65AD\\u8A00\\u4E0D\\u540C\\u5F62\\u5F0F\\u7684\\u8F93\\u51FA\\u7684\\u65B9\\u6CD5\\u3002\\u6211\\u4EEC\\u5C06\\u5206\\u5F00\\u8BA8\\u8BBA\\u5B83\\u4EEC\\u3002\"), mdx(\"h2\", {\n    \"id\": \"输入\"\n  }, \"\\u8F93\\u5165\"), mdx(\"p\", null, \"\\u8DB3\\u591F\\u7B80\\u5355\\u7684\\u8F93\\u5165\\u8BA9\\u6211\\u4EEC\\u53EF\\u4EE5\\u82B1\\u66F4\\u5C11\\u7684\\u65F6\\u95F4\\u3001\\u8986\\u76D6\\u66F4\\u591A\\u7684\\u573A\\u666F\\u3002\\u8F93\\u5165\\u7684\\u6765\\u6E90\\u5927\\u81F4\\u6709\\u4EE5\\u4E0B\\u51E0\\u79CD\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u666E\\u901A\\u53D8\\u91CF\\u53C2\\u6570\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5916\\u90E8\\u4F9D\\u8D56\\u53D1\\u9001\\u7684\\u4E8B\\u4EF6\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"GUI \\u64CD\\u4F5C\\u4E8B\\u4EF6\")), mdx(\"p\", null, \"\\u7F16\\u5199\\u6D4B\\u8BD5\\u8986\\u76D6\\u5B83\\u4EEC\\u7684\\u590D\\u6742\\u5EA6\\u4F9D\\u6B21\\u589E\\u5927\\u3002\\u9664\\u4E86\\u7B2C\\u4E00\\u4E2A\\uFF0C\\u5176\\u5B83\\u90FD\\u53EF\\u4EE5\\u770B\\u4F5C\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u5916\\u90E8\\u4E8B\\u4EF6\"), \"\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u7406\\u89E3\\u4E3A\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u6765\\u81EA\\u5916\\u754C\\u7684\\u526F\\u4F5C\\u7528\"), \"\\u3002\\u5BF9\\u4E8E\\u666E\\u901A\\u53D8\\u91CF\\u53C2\\u6570\\uFF0C\\u6211\\u4EEC\\u53EA\\u9700\\u6784\\u9020\\u8FD9\\u4E9B\\u53C2\\u6570\\u5373\\u53EF\\u5B8C\\u6210\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u7ED9\\u5B9A\\u8F93\\u5165\"), \"\\u7684\\u4EFB\\u52A1\\u3002\\u800C\\u5BF9\\u4E8E\\u5916\\u90E8\\u4E8B\\u4EF6\\uFF0C\\u6211\\u4EEC\\u8981\\u505A\\u7684\\u5C31\\u662F\\u60F3\\u529E\\u6CD5\\u89E6\\u53D1\\u8FD9\\u4E9B\\u4E8B\\u4EF6\\u3002\"), mdx(\"p\", null, \"\\u6211\\u4EEC\\u4F9D\\u7136\\u770B\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u4F8B\\u5B50\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-ts\"\n  }), \"// `MyComponent.ts`\\nwindow.addEventListener(\\\"resize\\\", () => { ... });\\n\")), mdx(\"p\", null, \"\\u5982\\u4F55\\u8986\\u76D6\\uFF1F\\u4E3B\\u52A8\\u53D1\\u9001\\u8FD9\\u4E2A\\u4E8B\\u4EF6\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-ts\"\n  }), \"// `MyComponent.spec.ts`\\ntest(\\\"MyComponent\\\", () => {\\n  window.dispatchEvent(new Event(\\\"resize\\\"));\\n  // ...\\n});\\n\")), mdx(\"p\", null, \"\\u518D\\u770B\\u4E00\\u4E2A\\u4F8B\\u5B50\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-ts\"\n  }), \"// `MyComponent.tsx`\\nconst handleChange = (value: string): void => { ... };\\nreturn <Editor onChange={handleChange} />\\n\")), mdx(\"p\", null, \"\\u5982\\u4F55\\u8986\\u76D6\\u4F9D\\u8D56\\u7EC4\\u4EF6\\u7684\\u7279\\u5B9A\\u4E8B\\u4EF6\\uFF1F\\u4E3B\\u52A8\\u89E6\\u53D1\\u4F9D\\u8D56\\u7EC4\\u4EF6\\u7684\\u4E8B\\u4EF6\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-ts\"\n  }), \"// `MyComponent.spec.tsx`\\ntest(\\\"MyComponent\\\", () => {\\n  const wrapper = shallow(<MyComponent />);\\n  wrapper.find(Editor).invoke(\\\"onChange\\\")(\\\"faked value\\\");\\n  // ...\\n});\\n\")), mdx(\"h2\", {\n    \"id\": \"输出\"\n  }, \"\\u8F93\\u51FA\"), mdx(\"p\", null, \"\\u8DB3\\u591F\\u7B80\\u5355\\u7684\\u8F93\\u51FA\\u8BA9\\u6211\\u4EEC\\u53EF\\u4EE5\\u66F4\\u5BB9\\u6613\\u5730\\u65AD\\u8A00\\u8FD0\\u884C\\u7ED3\\u679C\\u3002\\u8F93\\u51FA\\u7684\\u5F62\\u6001\\u5927\\u81F4\\u6709\\u4EE5\\u4E0B\\u51E0\\u79CD\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u666E\\u901A\\u53D8\\u91CF\\u8F93\\u51FA\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"GUI \\u7684\\u53D8\\u5316\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5916\\u90E8\\u4F9D\\u8D56\\u7684\\u8C03\\u7528\")), mdx(\"p\", null, \"\\u5728\\u6D4B\\u8BD5\\u4E2D\\u5BF9\\u5B83\\u4EEC\\u8FDB\\u884C\\u65AD\\u8A00\\u7684\\u590D\\u6742\\u5EA6\\u4F9D\\u6B21\\u589E\\u5927\\u3002\\u9664\\u4E86\\u7B2C\\u4E00\\u4E2A\\uFF0C\\u5176\\u5B83\\u90FD\\u53EF\\u4EE5\\u770B\\u4F5C\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u5BF9\\u5916\\u754C\\u7684\\u526F\\u4F5C\\u7528\"), \"\\u3002\\u5BF9\\u4E8E\\u666E\\u901A\\u53D8\\u91CF\\u8F93\\u51FA\\uFF0C\\u6211\\u4EEC\\u53EA\\u9700\\u7B80\\u5355\\u5730\\u65AD\\u8A00\\u5B83\\u7684\\u503C\\u5373\\u53EF\\u3002\\u800C\\u5BF9\\u4E8E\\u5BF9\\u5916\\u754C\\u7684\\u526F\\u4F5C\\u7528\\uFF0C\\u6211\\u4EEC\\u8981\\u505A\\u7684\\u5C31\\u662F\\u60F3\\u529E\\u6CD5\\u65AD\\u8A00\\u8FD9\\u4E9B\\u526F\\u4F5C\\u7528\\u7684\\u5F71\\u54CD\\u3002\"), mdx(\"p\", null, \"\\u6211\\u4EEC\\u7EE7\\u7EED\\u770B\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u4F8B\\u5B50\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-ts\"\n  }), \"// `handleClick.ts`\\nfunction handleClick(): void {\\n  history.push(\\\"/next/url\\\");\\n}\\n\")), mdx(\"p\", null, \"\\u5982\\u4F55\\u65AD\\u8A00\\uFF1F\\u6211\\u4EEC\\u53EF\\u4EE5\\u65AD\\u8A00\\u526F\\u4F5C\\u7528\\u7684\\u5F71\\u54CD\\u7ED3\\u679C\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-ts\"\n  }), \"// `handleClick.spec.ts`\\ntest(\\\"handleClick\\\", () => {\\n  handleClick();\\n  expect(history.location.pathname).toBe(\\\"/next/url\\\");\\n});\\n\")), mdx(\"p\", null, \"\\u6709\\u65F6\\u526F\\u4F5C\\u7528\\u6240\\u5F71\\u54CD\\u7684\\u7ED3\\u679C\\u96BE\\u4EE5\\u65AD\\u8A00\\uFF0C\\u6216\\u8005\\u8BE5\\u4F9D\\u8D56\\u88AB \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Mocked\"), \"\\uFF0C\\u90A3\\u4E48\\u6211\\u4EEC\\u53EF\\u4EE5\\u76D1\\u89C6\\u8BE5\\u526F\\u4F5C\\u7528\\u7684\\u89E6\\u53D1\\u70B9\\u662F\\u5426\\u88AB\\u6B63\\u786E\\u8C03\\u7528\\u4E86\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-ts\"\n  }), \"// `handleClick.spec.ts`\\ntest(\\\"handleClick\\\", () => {\\n  const spyOnHistoryPush = jest.spyOn(history, \\\"push\\\");\\n  expect(spyOnHistoryPush).toBeCalledWith(\\\"/next/url\\\");\\n});\\n\")), mdx(\"p\", null, \"\\u518D\\u770B\\u4E00\\u4E2A React \\u7EC4\\u4EF6\\u7684\\u4F8B\\u5B50\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-ts\"\n  }), \"// `MyComponent.tsx`\\nconst handleValidation = (valid: boolean): void => {\\n  this.setState({ valid });\\n}\\nreturn <Form.Item className={ this.state.valid ? \\\"valid\\\" : \\\"invalid\\\" }><Input /></Form.Item>;\\n\")), mdx(\"p\", null, \"\\u5982\\u4F55\\u65AD\\u8A00\\uFF1F\\u5224\\u65AD\\u4F9D\\u8D56\\u7EC4\\u4EF6\\u7684\\u53D8\\u5316\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-ts\"\n  }), \"// `MyComponent.spec.tsx`\\ntest(\\\"MyComponent\\\", () => {\\n  const wrapper = shallow(<MyComponent />);\\n  // ... after something trigger `handleValidation()`\\n  expect(wrapper.find(Form.Item).prop(\\\"className\\\")).toBe(\\\"invalid\\\");\\n});\\n\")), mdx(\"p\", null, \"\\u59CB\\u7EC8\\u8BB0\\u5F97\\u8981\\u65AD\\u8A00\\u6D4B\\u8BD5\\u5BF9\\u8C61\\u8FD0\\u884C\\u540E\\u5BF9\\u5916\\u754C\\u7684\\u526F\\u4F5C\\u7528\\u5F71\\u54CD\\u3002\"), mdx(\"p\", null, \"\\u53E6\\u5916\\u65AD\\u8A00\\u7684\\u76EE\\u6807\\u5E94\\u8BE5\\u662F\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u5BF9\\u5916\\u7684\\u5F71\\u54CD\"), \"\\uFF0C\\u800C\\u4E0D\\u662F\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u5185\\u90E8\\u72B6\\u6001\"), \"\\uFF0C\\u56E0\\u4E3A\\u5185\\u90E8\\u72B6\\u6001\\u5E76\\u4E0D\\u662F\\u6D4B\\u8BD5\\u5BF9\\u8C61\\u7684\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u8F93\\u51FA\"), \"\\u3002\\u4E00\\u4E2A\\u9519\\u8BEF\\u7684\\u4F8B\\u5B50\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-ts\"\n  }), \"// `MyComponent.bad.spec.tsx`\\nexpect(wrapper.instance().state.valid).toBe(\\\"invalid\\\");\\n\")), mdx(\"h2\", {\n    \"id\": \"重构与拆分\"\n  }, \"\\u91CD\\u6784\\u4E0E\\u62C6\\u5206\"), mdx(\"p\", null, \"\\u66F4\\u7B80\\u5355\\u7684\\u8F93\\u5165\\u3001\\u8F93\\u51FA\\u8BA9\\u6211\\u4EEC\\u53EF\\u4EE5\\u66F4\\u5BB9\\u6613\\u5730\\u7F16\\u5199\\u597D\\u7684\\u5355\\u5143\\u6D4B\\u8BD5\\uFF0C\\u4F46\\u5F80\\u5F80\\u5B9E\\u9645\\u60C5\\u51B5\\u662F\\u4E1A\\u52A1\\u9700\\u6C42\\u4E0D\\u65AD\\u589E\\u957F\\uFF0C\\u7EC4\\u4EF6\\u5185\\u90E8\\u903B\\u8F91\\u4E0D\\u65AD\\u590D\\u6742\\u5316\\uFF0C\\u8F93\\u5165\\u8F93\\u51FA\\u7684\\u5F62\\u5F0F\\u5F62\\u6001\\u66F4\\u52A0\\u591A\\u6837\\u5316\\uFF0C\\u4E3A\\u7EC4\\u4EF6\\u7F16\\u5199\\u5355\\u5143\\u6D4B\\u8BD5\\u7684\\u96BE\\u5EA6\\u4E5F\\u968F\\u4E4B\\u9661\\u589E\\u3002\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u9002\\u65F6\\u5730\\u91CD\\u6784\\u4E0E\\u62C6\\u5206\"), \"\\u662F\\u89E3\\u51B3\\u8FD9\\u4E2A\\u95EE\\u9898\\u7684\\u5173\\u952E\\u3002\\u5728\\u5982\\u4ECA\\u7684\\u524D\\u7AEF\\u7EC4\\u4EF6\\u5316\\u7684\\u6A21\\u5F0F\\u4E0B\\u5C24\\u4E3A\\u91CD\\u8981\\uFF0C\\u5408\\u7406\\u62C6\\u5206\\u540E\\u7684\\u7EC4\\u4EF6\\u53EF\\u4EE5\\u8BA9\\u6BCF\\u4E2A\\u6D4B\\u8BD5\\u5355\\u5143\\u7684\\u8F93\\u5165\\u8F93\\u51FA\\u90FD\\u53D8\\u5F97\\u66F4\\u5C11\\u3001\\u66F4\\u805A\\u7126\\u3002\\u8BF8\\u5982 React, \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://redux.js.org/\"\n  }), \"Redux\"), \" \\u7B49\\u4E3B\\u6D41\\u6846\\u67B6\\u548C\\u5DE5\\u5177\\u63A8\\u5D07\\u7684\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://flaviocopes.com/react-unidirectional-data-flow/\"\n  }), \"\\u5355\\u5411\\u6570\\u636E\\u6D41\"), \"\\u76DB\\u884C\\u7684\\u5176\\u4E2D\\u4E00\\u4E2A\\u539F\\u56E0\\u5C31\\u662F\\u5B83\\u4EEC\\u5DE7\\u5999\\u5730\\u8BA9\\u5404\\u4E2A\\u5355\\u5143\\u7684\\u8F93\\u5165\\u6765\\u6E90\\u3001\\u8F93\\u51FA\\u5F71\\u54CD\\u5355\\u4E00\\u5316\\uFF0C\\u4ECE\\u800C\\u964D\\u4F4E\\u7F16\\u5199\\u5355\\u5143\\u6D4B\\u8BD5\\u7684\\u96BE\\u5EA6\\uFF0C\\u540C\\u65F6\\u63D0\\u5347\\u7EC4\\u4EF6\\u96C6\\u6210\\u65F6\\u7684\\u4FE1\\u5FC3\\u3002\"), mdx(\"h2\", {\n    \"id\": \"总结\"\n  }, \"\\u603B\\u7ED3\"), mdx(\"p\", null, \"\\u7F16\\u5199\\u826F\\u597D\\u7684\\u5355\\u5143\\u6D4B\\u8BD5\\u603B\\u7ED3\\u4E0B\\u6765\\u5C31\\u662F\\u4E09\\u6761\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u8BC6\\u522B\\u6D4B\\u8BD5\\u5BF9\\u8C61\\u7684\\u8F93\\u5165\\u3001\\u8F93\\u51FA\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u638C\\u63E1\\u4E0D\\u540C\\u5F62\\u6001\\u4E0B\\u7684\\u8F93\\u5165\\u8986\\u76D6\\u3001\\u8F93\\u51FA\\u65AD\\u8A00\\u7684\\u65B9\\u6CD5\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u9002\\u65F6\\u5730\\u91CD\\u6784\\u4E0E\\u62C6\\u5206\")), mdx(\"p\", null, \"\\u5E0C\\u671B\\u4EE5\\u4E0A\\u5185\\u5BB9\\u5BF9\\u5927\\u5BB6\\u6709\\u6240\\u5E2E\\u52A9\\u3002\"));\n}\n;\nMDXContent.isMDXComponent = true;","slug":"/writing-good-unit-tests/","title":"编写良好的单元测试","tags":[],"date":"June 15, 2019","image":null,"imageAlt":null,"socialImage":null},"previous":{"__typename":"MdxBlogPost","id":"22d10885-3a9b-503a-90b7-d201a401ee45","excerpt":"在太平洋的深处，有一片土地，它和最近的陆地相隔两千公里，从恐龙时代开始，八千万年来它与世隔绝，直到七百多年前，才第一次有人类涉足，而实际上人类是站在这片土地上的第一种大型陆地哺乳动物…","slug":"/pure-new-zealand/","title":"纯净新西兰","date":"April 30, 2018"},"next":{"__typename":"MdxBlogPost","id":"590f4af9-620a-531e-96da-5881eb6ec6e7","excerpt":"从太空俯瞰地球，有一块砖红色的大陆特别醒目，像一颗瑰丽的宝石镶嵌在我们的蓝色星球上…","slug":"/wild-australia/","title":"狂野澳大利亚","date":"October 11, 2019"}},"pageContext":{"id":"325a58d7-3ae7-5369-bb10-3e21fe827670","previousId":"22d10885-3a9b-503a-90b7-d201a401ee45","nextId":"590f4af9-620a-531e-96da-5881eb6ec6e7","maxWidth":1380}},"staticQueryHashes":["2744905544","3090755652","386998304","764694655"]}