{"componentChunkName":"component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js","path":"/implementing-a-javascript-sandbox/","result":{"data":{"site":{"siteMetadata":{"title":"WeAreOutMan","social":[{"name":"github","url":"https://github.com/weareoutman"},{"name":"GitHub","url":"https://github.com/gatsbyjs"}]}},"blogPost":{"__typename":"MdxBlogPost","id":"8faf3863-a266-5369-8ca4-6af8b7da2eed","excerpt":"在某些项目中，特别是低代码平台、在线代码编辑器等，我们往往需要提供一个沙盒环境，让用户可以自行编写并运行 JavaScript 代码。这个沙盒需要提供一些平台内置 API…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"实现一个 JavaScript Sandbox\",\n  \"date\": \"2024-07-06T00:00:00.000Z\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component '\" + name + \"' was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"\\u5728\\u67D0\\u4E9B\\u9879\\u76EE\\u4E2D\\uFF0C\\u7279\\u522B\\u662F\\u4F4E\\u4EE3\\u7801\\u5E73\\u53F0\\u3001\\u5728\\u7EBF\\u4EE3\\u7801\\u7F16\\u8F91\\u5668\\u7B49\\uFF0C\\u6211\\u4EEC\\u5F80\\u5F80\\u9700\\u8981\\u63D0\\u4F9B\\u4E00\\u4E2A\\u6C99\\u76D2\\u73AF\\u5883\\uFF0C\\u8BA9\\u7528\\u6237\\u53EF\\u4EE5\\u81EA\\u884C\\u7F16\\u5199\\u5E76\\u8FD0\\u884C JavaScript \\u4EE3\\u7801\\u3002\\u8FD9\\u4E2A\\u6C99\\u76D2\\u9700\\u8981\\u63D0\\u4F9B\\u4E00\\u4E9B\\u5E73\\u53F0\\u5185\\u7F6E API \\u7684\\u8BBF\\u95EE\\uFF0C\\u540C\\u65F6\\u8FD8\\u9700\\u8981\\u9650\\u5236\\u7528\\u6237\\u4EE3\\u7801\\u7684\\u8BBF\\u95EE\\u6743\\u9650\\uFF0C\\u4EE5\\u9632\\u6B62\\u7528\\u6237\\u6076\\u610F\\u64CD\\u4F5C\\u3002\"), mdx(\"p\", null, \"\\u5982\\u679C\\u4E0D\\u8003\\u8651\\u5B89\\u5168\\u6027\\u7B49\\u56E0\\u7D20\\uFF0C\\u8981\\u5B9E\\u73B0\\u8FD0\\u884C\\u7528\\u6237\\u6216\\u8005\\u5176\\u4ED6\\u7B2C\\u4E09\\u65B9\\u7F16\\u5199\\u7684 JavaScript \\u4EE3\\u7801\\u5E76\\u4E0D\\u96BE\\uFF0C\\u53EA\\u9700\\u8981\\u4F7F\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"eval\"), \" \\u51FD\\u6570\\u6216\\u8005 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Function\"), \" \\u6784\\u9020\\u51FD\\u6570\\u5373\\u53EF\\u3002\\u4F46\\u8003\\u8651\\u4E0B\\u9762\\u7684\\u4EE3\\u7801\", mdx(\"sup\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/nyariv/SandboxJS\"\n  }), \"[\", \"1\", \"]\")), \"\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"[].filter.constructor(\\\"alert('jailbreak')\\\")()\\n\")), mdx(\"p\", null, \"\\u8FD9\\u6837\\u7684\\u4EE3\\u7801\\u770B\\u4E0A\\u53BB\\u4EBA\\u755C\\u65E0\\u5BB3\\uFF0C\\u6CA1\\u6709\\u76F4\\u63A5\\u8BBF\\u95EE\\u4EFB\\u4F55\\u5168\\u5C40\\u5BF9\\u8C61\\uFF0C\\u5374\\u53EF\\u4EE5\\u8BA9\\u4F60\\u7684\\u7F51\\u9875\\u5F39\\u51FA\\u4E00\\u4E2A\\u607C\\u4EBA\\u7684\\u5BF9\\u8BDD\\u6846\\u3002\\u4E8B\\u5B9E\\u4E0A\\uFF0C\\u653B\\u51FB\\u8005\\u53EF\\u4EE5\\u53EA\\u4F7F\\u75286\\u79CD\\u7B26\\u53F7\\u5373\\u53EF\\u7EC4\\u5408\\u6784\\u9020\\u4EFB\\u610F\\u4EE3\\u7801 \", mdx(\"sup\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://jsfuck.com/\"\n  }), \"[\", \"2\", \"]\")), \"\\uFF1A\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"(\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \")\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"[\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"]\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"!\"), \" \\u548C \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"+\"), \"\\u3002\"), mdx(\"p\", null, \"\\u56E0\\u6B64\\u6211\\u4EEC\\u6709\\u5FC5\\u8981\\u6784\\u9020\\u4E00\\u4E2A\\u6C99\\u76D2\\u73AF\\u5883\\uFF0C\\u6839\\u636E\\u4E1A\\u52A1\\u9700\\u6C42\\uFF0C\\u9650\\u5236\\u7528\\u6237\\u4EE3\\u7801\\u5BF9\\u7279\\u5B9A\\u5BF9\\u8C61\\u7684\\u8BBF\\u95EE\\uFF0C\\u9632\\u6B62\\u6076\\u610F\\u64CD\\u4F5C\\u3002\"), mdx(\"p\", null, \"\\u65E2\\u7136\\u662F\\u6C99\\u76D2\\u73AF\\u5883\\uFF0C\\u6211\\u4EEC\\u8FD8\\u53EF\\u4EE5\\u8DF3\\u8131\\u4F20\\u7EDF JavaScript \\u7684\\u9650\\u5236\\uFF0C\\u6269\\u5C55\\u5B83\\u7684\\u80FD\\u529B\\uFF0C\\u4F8B\\u5982\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u652F\\u6301\\u6700\\u65B0\\u7684 ECMAScript \\u7279\\u6027\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u652F\\u6301 TypeScript\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u514D\\u7F16\\u8BD1\\u6267\\u884C\")), mdx(\"p\", null, \"\\u4F60\\u6CA1\\u770B\\u9519\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5728\\u8001\\u65E7\\u6D4F\\u89C8\\u5668\\u4E2D\\u514D\\u7F16\\u8BD1\\u6267\\u884C\\u5305\\u542B\\u6700\\u65B0\\u7279\\u6027\\u7684 JavaScript \\u751A\\u81F3\\u662F TypeScript\\u3002\"), mdx(\"p\", null, \"\\u9664\\u6B64\\u4E4B\\u5916\\uFF0C\\u57FA\\u672C\\u7684\\u5F00\\u53D1\\u4F53\\u9A8C\\u4E5F\\u662F\\u5FC5\\u4E0D\\u53EF\\u5C11\\u7684\\uFF0C\\u5305\\u62EC\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5355\\u6B65/\\u65AD\\u70B9\\u8C03\\u8BD5\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u7EDF\\u8BA1\\u6D4B\\u8BD5\\u8986\\u76D6\\u7387\")), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1380px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"43.76811594202899%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAcepBDD/xAAVEAEBAAAAAAAAAAAAAAAAAAAQQf/aAAgBAQABBQJp/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGRAAAQUAAAAAAAAAAAAAAAAAAAERICEx/9oACAEBAAE/IbcXYv/aAAwDAQACAAMAAAAQMw//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAEAAgMBAAAAAAAAAAAAAAABABEgIUGB/9oACAEBAAE/EDqV5LlnZgZ//9k=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Function debugging screenshot\",\n    \"title\": \"Function debugging screenshot\",\n    \"src\": \"/static/7007a6b838b8a319229b740b723fa5c9/89b2d/function-screenshot.jpg\",\n    \"srcSet\": [\"/static/7007a6b838b8a319229b740b723fa5c9/8d48c/function-screenshot.jpg 345w\", \"/static/7007a6b838b8a319229b740b723fa5c9/15ec7/function-screenshot.jpg 690w\", \"/static/7007a6b838b8a319229b740b723fa5c9/89b2d/function-screenshot.jpg 1380w\", \"/static/7007a6b838b8a319229b740b723fa5c9/33042/function-screenshot.jpg 2070w\", \"/static/7007a6b838b8a319229b740b723fa5c9/45df8/function-screenshot.jpg 2760w\", \"/static/7007a6b838b8a319229b740b723fa5c9/23d91/function-screenshot.jpg 3556w\"],\n    \"sizes\": \"(max-width: 1380px) 100vw, 1380px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), mdx(\"p\", {\n    className: \"figure-caption\"\n  }, \"\\u4F18\\u7EF4\\u4F4E\\u4EE3\\u7801\\u5E73\\u53F0\\u7684\\u51FD\\u6570\\u8C03\\u8BD5\\u754C\\u9762\"), mdx(\"h2\", {\n    \"id\": \"理论\"\n  }, \"\\u7406\\u8BBA\"), mdx(\"p\", null, \"\\u8981\\u5B9E\\u73B0\\u4E00\\u4E2A\\u6C99\\u76D2\\u73AF\\u5883\\uFF0C\\u5728\\u4E00\\u5B9A\\u7A0B\\u5EA6\\u4E0A\\u7B49\\u540C\\u4E8E\\u5B9E\\u73B0\\u4E00\\u95E8\\u7F16\\u7A0B\\u8BED\\u8A00\\uFF0C\\u5F53\\u7136\\u6211\\u4EEC\\u8FD9\\u91CC\\u4E0D\\u9700\\u8981\\u91CD\\u73B0\\u8BBE\\u8BA1\\u4E00\\u95E8\\u65B0\\u7684\\u7F16\\u7A0B\\u8BED\\u8A00\\uFF0C\\u53EA\\u9700\\u5173\\u6CE8\\u5B9E\\u73B0\\u3002\"), mdx(\"p\", null, \"\\u7F16\\u7A0B\\u8BED\\u8A00\\u7684\\u5B9E\\u73B0\\u4E00\\u822C\\u5305\\u62EC\\u4E09\\u4E2A\\u9636\\u6BB5\\uFF1A\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u8BCD\\u6CD5\\u5206\\u6790\\uFF08Lexical Analysis\\uFF09\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u8BED\\u6CD5\\u5206\\u6790\\uFF08Syntax Analysis\\uFF09\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u8BED\\u4E49\\u5206\\u6790\\uFF08Semantic Analysis\\uFF09\")), mdx(\"p\", null, \"\\u5176\\u5B9E\\u8FD9\\u4E2A\\u8FC7\\u7A0B\\u4E5F\\u9002\\u7528\\u4E8E\\u81EA\\u7136\\u8BED\\u8A00\\u3002\\u4F8B\\u5982\\uFF0C\\u5F53\\u6211\\u4EEC\\u9605\\u8BFB\\u4E00\\u7BC7\\u6587\\u7AE0\\u65F6\\uFF1A\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u6211\\u4EEC\\u9996\\u5148\\u8BC6\\u522B\\u51FA\\u4E00\\u4E2A\\u4E2A\\u7684\\u8BCD\\u8BED\\u53CA\\u7B26\\u53F7\\uFF0C\\u8FD9\\u662F\\u8BCD\\u6CD5\\u5206\\u6790\\uFF1B\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u7136\\u540E\\u8BC6\\u522B\\u8BED\\u6CD5\\uFF0C\\u4F8B\\u5982\\u4E3B/\\u8C13/\\u5BBE\\uFF0C\\u5E76\\u7EC4\\u6210\\u7279\\u5B9A\\u7684\\u53E5\\u5B50\\uFF0C\\u8FD9\\u662F\\u8BED\\u6CD5\\u5206\\u6790\\uFF1B\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u6700\\u540E\\u7406\\u89E3\\u6587\\u7AE0\\u6574\\u4F53\\u8868\\u8FBE\\u7684\\u601D\\u60F3\\uFF0C\\u8FD9\\u662F\\u8BED\\u4E49\\u5206\\u6790\\u3002\")), mdx(\"p\", null, \"\\u5BF9\\u4E8E\\u7F16\\u7A0B\\u8BED\\u8A00\\uFF0C\\u8BCD\\u6CD5\\u5206\\u6790\\u5C06\\u6E90\\u4EE3\\u7801\\u5206\\u89E3\\u4E3A tokens\\uFF0C\\u8BED\\u6CD5\\u5206\\u6790\\u5C06 tokens \\u7EC4\\u5408\\u6210\\u62BD\\u8C61\\u8BED\\u6CD5\\u6811\\uFF08Abstract Syntax Tree\\uFF09\\u3002\\u6839\\u636E\\u8BED\\u4E49\\u5206\\u6790\\u9636\\u6BB5\\u7684\\u4E0D\\u540C\\uFF0C\\u53EF\\u4EE5\\u5C06\\u7F16\\u7A0B\\u8BED\\u8A00\\u7684\\u5B9E\\u73B0\\u5206\\u4E3A\\u89E3\\u91CA\\u578B\\u548C\\u7F16\\u8BD1\\u578B\\u3002\\u5B83\\u4EEC\\u7684\\u533A\\u522B\\u662F\\uFF0C\\u5728\\u5F97\\u5230\\u62BD\\u8C61\\u8BED\\u6CD5\\u6811\\u540E\\uFF0C\\u89E3\\u91CA\\u578B\\u8BED\\u8A00\\u76F4\\u63A5\\u904D\\u5386\\u5E76\\u6267\\u884C\\u62BD\\u8C61\\u8BED\\u6CD5\\u6811\\uFF0C\\u800C\\u7F16\\u8BD1\\u578B\\u8BED\\u8A00\\u5C06\\u62BD\\u8C61\\u8BED\\u6CD5\\u6811\\u8F6C\\u6362\\u4E3A\\u673A\\u5668\\u7801\\u540E\\u518D\\u6267\\u884C\\u3002\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"Source \\u2500\\u2500> Tokens \\u2500\\u2500\\u2500> AST \\u2500\\u2500\\u2500> Behavior\\n    (Lexer)    (Parser) \\u2502 (Interpreter)\\n                        \\u2502\\n             (Compiler) \\u2514\\u2500 \\u2500\\u2500\\u2500> Machine Code\\n\")), mdx(\"p\", null, \"\\u7F16\\u8BD1\\u578B\\u8BED\\u8A00\\u7684\\u4F18\\u52BF\\u5728\\u4E8E\\u6267\\u884C\\u6548\\u7387\\u9AD8\\uFF0C\\u56E0\\u4E3A\\u7F16\\u8BD1\\u4F18\\u5316\\u540E\\u5F97\\u5230\\u7684\\u662F\\u673A\\u5668\\u7801\\u53EF\\u4EE5\\u76F4\\u63A5\\u4EA4\\u7ED9 CPU \\u6267\\u884C\\uFF1B\\u800C\\u89E3\\u91CA\\u578B\\u8BED\\u8A00\\u7684\\u4F18\\u52BF\\u5728\\u4E8E\\u5F00\\u53D1\\u6548\\u7387\\u9AD8\\uFF0C\\u540C\\u65F6\\u53EF\\u4EE5\\u652F\\u6301\\u8FD0\\u884C\\u65F6\\u52A8\\u6001\\u4EE3\\u7801\\u6267\\u884C\\uFF0C\\u56E0\\u4E3A\\u5B83\\u4E0D\\u9700\\u8981\\u989D\\u5916\\u7684\\u7F16\\u8BD1\\u8FC7\\u7A0B\\u3002\\u901A\\u5E38\\u652F\\u6301 \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"eval()\")), \" \\u65B9\\u6CD5\\u7684\\u7F16\\u7A0B\\u8BED\\u8A00\\u90FD\\u662F\\u89E3\\u91CA\\u578B\\u8BED\\u8A00\\uFF0C\\u4F8B\\u5982 JavaScript / Python / PHP\\u3002\"), mdx(\"p\", null, \"\\u73B0\\u4EE3\\u6D4F\\u89C8\\u5668\\u7684 JavaScript \\u5F15\\u64CE\\u901A\\u5E38\\u5DF2\\u7ECF\\u4E0D\\u662F\\u7EAF\\u7CB9\\u7684\\u89E3\\u91CA\\u5668\\uFF0C\\u4F8B\\u5982 Google V8 \\u91C7\\u7528\\u4E86 JIT\\uFF08\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://zh.wikipedia.org/zh-cn/%E5%8D%B3%E6%97%B6%E7%BC%96%E8%AF%91\"\n  }), \"Just-In-Time\"), \"\\uFF09\\u7F16\\u8BD1\\u5668\\uFF0C\\u5B83\\u4F1A\\u5728\\u8FD0\\u884C\\u65F6\\u9636\\u6BB5\\u5C06\\u89E3\\u91CA\\u6267\\u884C\\u7684\\u4EE3\\u7801\\u63D0\\u524D\\u7F16\\u8BD1\\u4E3A\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u5B57\\u8282\\u7801\"), \"\\uFF08\\u6CE8\\u610F\\u5B83\\u548C\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u771F\\u7F16\\u8BD1\\u578B\\u8BED\\u8A00\"), \"\\u8F6C\\u6362\\u7684\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u673A\\u5668\\u7801\"), \"\\u6709\\u6240\\u4E0D\\u540C\\uFF09\\u4EE5\\u63D0\\u9AD8\\u6267\\u884C\\u6548\\u7387\\u3002\"), mdx(\"p\", null, \"\\u6211\\u4EEC\\u8FD9\\u91CC\\u7684\\u573A\\u666F\\u53EA\\u80FD\\u9009\\u62E9\\u4F7F\\u7528\\u89E3\\u91CA\\u5668\\u3002\"), mdx(\"h2\", {\n    \"id\": \"实现\"\n  }, \"\\u5B9E\\u73B0\"), mdx(\"p\", null, \"\\u73B0\\u5728\\u6211\\u4EEC\\u5F00\\u59CB\\u52A8\\u624B\\u7F16\\u7801\\uFF0CJavaScript \\u7684\\u8BCD\\u6CD5\\u548C\\u8BED\\u6CD5\\u5206\\u6790\\u5DF2\\u7ECF\\u975E\\u5E38\\u6210\\u719F\\uFF0C\\u6BD4\\u5982\\u6211\\u4EEC\\u53EF\\u4EE5\\u76F4\\u63A5\\u4F7F\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@babel/parser\"), \"\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"import { parseExpression } from \\\"@babel/parser\\\";\\n\\nexport function parse(source) {\\n  // \\u4E3A\\u7B80\\u5355\\u8D77\\u89C1\\uFF0C\\u8FD9\\u91CC\\u53EA\\u89E3\\u6790\\u8868\\u8FBE\\u5F0F\\n  return parseExpression(source, {\\n    // \\u4F7F\\u7528 estree \\u683C\\u5F0F\\u7684 AST https://github.com/estree/estree\\n    plugins: [\\\"estree\\\"],\\n  });\\n}\\n\")), mdx(\"p\", null, \"\\u9700\\u8981\\u6211\\u4EEC\\u81EA\\u5DF1\\u5B9E\\u73B0\\u7684\\u4E3B\\u8981\\u662F\\u8BED\\u4E49\\u5206\\u6790\\u90E8\\u5206\\uFF0C\\u5373\\uFF1A\\u5982\\u4F55\\u904D\\u5386\\u89E3\\u91CA\\u5E76\\u6267\\u884C\\u62BD\\u8C61\\u8BED\\u6CD5\\u6811\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u53C2\\u8003 \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://tc39.es/ecma262/\"\n  }), \"ECMAScript \\u5B98\\u65B9\\u89C4\\u8303\"), \"\\u6765\\u5B9E\\u73B0\\uFF0C\\u5148\\u5047\\u8BBE\\u6211\\u4EEC\\u4EC5\\u652F\\u6301 \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Literal\"), \" \\u8282\\u70B9\\uFF08\\u5B57\\u7B26\\u4E32\\u3001\\u6570\\u5B57\\u3001\\u5E03\\u5C14\\u7B49\\uFF09\\uFF0C\\u8FD9\\u975E\\u5E38\\u7B80\\u5355\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"export function interpret(ast) {\\n  function Evaluate(node) {\\n    switch (node.type) {\\n      case \\\"Literal\\\":\\n        return node.value;\\n\\n      default:\\n        throw new TypeError(`Unsupported node type: ${node.type}`);\\n    }\\n  }\\n\\n  return Evaluate(ast);\\n}\\n\")), mdx(\"p\", null, \"\\u8FD9\\u6837\\u6211\\u4EEC\\u5C31\\u53EF\\u4EE5\\u89E3\\u91CA\\u5E76\\u6267\\u884C\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u8868\\u8FBE\\u5F0F\\u4E86\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"interpret(parse(\\\"42\\\")); // 42\\n\")), mdx(\"p\", null, \"\\u63A5\\u6765\\u6211\\u4EEC\\u518D\\u652F\\u6301\\u4E0B\\u4E8C\\u5143\\u8868\\u8FBE\\u5F0F \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"BinaryExpression\"), \"\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"switch (node.type) {\\n  case \\\"BinaryExpression\\\": {\\n    // https://tc39.es/ecma262/#sec-evaluatestringornumericbinaryexpression\\n    const leftValue = Evaluate(node.left);\\n    const rightValue = Evaluate(node.right);\\n    const result = ApplyStringOrNumericBinaryOperator(\\n      leftValue,\\n      node.operator,\\n      rightValue\\n    );\\n    return result;\\n  }\\n  // case \\\"Literal\\\":\\n  // ...\\n}\\n\\nfunction ApplyStringOrNumericBinaryOperator(leftValue, operator, rightValue) {\\n  switch (operator) {\\n    case \\\"+\\\":\\n      return leftValue + rightValue;\\n    case \\\"-\\\":\\n      return leftValue - rightValue;\\n    case \\\"/\\\":\\n      return leftValue / rightValue;\\n    case \\\"*\\\":\\n      return leftValue * rightValue;\\n  }\\n  throw new TypeError(`Unsupported binary operator \\\\`${operator}\\\\``);\\n}\\n\")), mdx(\"p\", null, \"\\u73B0\\u5728\\u6211\\u4EEC\\u5DF2\\u7ECF\\u53EF\\u4EE5\\u8FDB\\u884C\\u56DB\\u5219\\u8FD0\\u7B97\\u4E86\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"interpret(parse(\\\"42 + 23\\\")); // 65\\ninterpret(parse(\\\"(42 + 23) / 5\\\")); // 13\\n\")), mdx(\"p\", null, \"\\u5047\\u8BBE\\u6211\\u4EEC\\u8981\\u4E3A\\u6C99\\u76D2\\u73AF\\u5883\\u518D\\u63D0\\u4F9B\\u4E00\\u4E2A\\u5185\\u7F6E API \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fibonacci(n)\"), \" \\u4EE5\\u83B7\\u5F97\\u7B2C n \\u4E2A\\u6590\\u6CE2\\u90A3\\u5951\\u6570\\uFF0C\\u4E3A\\u6B64\\u6211\\u4EEC\\u9700\\u8981\\u652F\\u6301 \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"CallExpression\"), \" \\u548C \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Identifier\"), \"\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"switch (node.type) {\\n  case \\\"CallExpression\\\": {\\n    const func = Evaluate(node.callee);\\n    return EvaluateCall(func, node.arguments);\\n  }\\n  case \\\"Identifier\\\": {\\n    if (node.name === \\\"fibonacci\\\") {\\n      return function fibonacci(n) {\\n        return n <= 1 ? n : fibonacci(n-1) + fibonacci(n-2);\\n      };\\n    }\\n    throw new TypeError(`Unknown identifier: ${node.name}`);\\n  }\\n  // case \\\"BinaryExpression\\\":\\n  // ...\\n}\\n\\n// https://tc39.es/ecma262/#sec-evaluatecall\\nfunction EvaluateCall(func, args) {\\n  const argList = ArgumentListEvaluation(args);\\n  const result = func.apply(null, argList);\\n  return result;\\n}\\n\\n// https://tc39.es/ecma262/#sec-runtime-semantics-argumentlistevaluation\\nfunction ArgumentListEvaluation(args) {\\n  const array = [];\\n  for (const arg of args) {\\n    array.push(Evaluate(arg));\\n  }\\n  return array;\\n}\\n\")), mdx(\"p\", null, \"\\u73B0\\u5728\\u6211\\u4EEC\\u53EF\\u4EE5\\u62FF\\u5230\\u6307\\u5B9A\\u7684\\u7B2C n \\u4E2A\\u6590\\u6CE2\\u90A3\\u5951\\u6570\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"interpret(parse(\\\"fibonacci((42 + 23) / 5)\\\")); // 233\\n\")), mdx(\"p\", null, \"\\u7EE7\\u7EED\\u9075\\u5FAA \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://tc39.es/ecma262/\"\n  }), \"ECMA-262\"), \" \\u8BED\\u8A00\\u89C4\\u8303\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u6309\\u7167\\u5B9E\\u9645\\u9700\\u6C42\\uFF0C\\u9009\\u62E9\\u6027\\u5730\\u9010\\u6B65\\u5B9E\\u73B0\\u66F4\\u591A\\u7684\\u8BED\\u6CD5\\u80FD\\u529B\\uFF0C\\u672C\\u6587\\u4E0D\\u518D\\u8D58\\u8FF0\\u3002\"), mdx(\"p\", null, \"\\u7531\\u4E8E\\u4EE3\\u7801\\u6267\\u884C\\u7684\\u6BCF\\u4E2A\\u73AF\\u8282\\u90FD\\u7531\\u6211\\u4EEC\\u63A7\\u5236\\uFF0C\\u6240\\u4EE5\\u6211\\u4EEC\\u53EF\\u4EE5\\u8F7B\\u677E\\u5730\\u9650\\u5236\\u7528\\u6237\\u4EE3\\u7801\\u5BF9\\u7279\\u5B9A\\u5BF9\\u8C61\\u7684\\u8BBF\\u95EE\\u3002\"), mdx(\"h2\", {\n    \"id\": \"调试\"\n  }, \"\\u8C03\\u8BD5\"), mdx(\"p\", null, \"\\u524D\\u9762\\u63D0\\u5230\\uFF0C\\u826F\\u597D\\u7684\\u5F00\\u53D1\\u4F53\\u9A8C\\u4E5F\\u5FC5\\u4E0D\\u53EF\\u5C11\\uFF0C\\u5176\\u4E2D\\u6700\\u91CD\\u8981\\u7684\\u9996\\u5148\\u662F\\u5355\\u6B65/\\u65AD\\u70B9\\u8C03\\u8BD5\\u3002\\u7531\\u4E8E\\u6C99\\u76D2\\u4E2D\\u4EE3\\u7801\\u7684\\u6267\\u884C\\u4E0D\\u518D\\u662F\\u6D4F\\u89C8\\u5668\\u76F4\\u63A5\\u6267\\u884C\\u7684\\uFF0C\\u56E0\\u6B64\\u65E0\\u6CD5\\u4F7F\\u7528\\u6D4F\\u89C8\\u5668\\u7684\\u8C03\\u8BD5\\u5DE5\\u5177\\uFF0C\\u9700\\u8981\\u6211\\u4EEC\\u81EA\\u5DF1\\u5B9E\\u73B0\\u3002\"), mdx(\"p\", null, \"\\u65AD\\u70B9\\u8C03\\u8BD5\\u672C\\u8D28\\u4E0A\\u662F\\u4E2D\\u65AD\\u4EE3\\u7801\\u7684\\u6267\\u884C\\uFF0C\\u4F46 JavaScript \\u662F\\u5355\\u7EBF\\u7A0B\\u7684\\uFF0C\\u770B\\u4E0A\\u53BB\\u6211\\u4EEC\\u65E0\\u6CD5\\u5728\\u5E94\\u7528\\u5C42\\u5C06\\u4E00\\u4E2A\\u540C\\u6B65\\u7684\\u4EE3\\u7801\\u53D8\\u6210\\u5F02\\u6B65\\u3001\\u53EF\\u4E2D\\u65AD\\u7684\\u4EE3\\u7801\\uFF0C\\u4F46\\u5B9E\\u9645\\u4E0A\\u53EF\\u4EE5\\u627E\\u5230\\u89E3\\u51B3\\u529E\\u6CD5\\u3002\"), mdx(\"p\", null, \"\\u201C\\u4E2D\\u65AD\\u4EE3\\u7801\\u7684\\u6267\\u884C\\u201D\\u6B63\\u662F\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*\"\n  }), \"\\u751F\\u6210\\u5668\\u51FD\\u6570\"), \"\\u505A\\u7684\\u4E8B\\u3002\\u65E5\\u5E38\\u5F00\\u53D1\\u4E2D\\uFF0C\\u5F88\\u5C11\\u6709\\u4EBA\\u4F1A\\u4F7F\\u7528\\u5B83\\uFF0C\\u4F46\\u5B83\\u6240\\u652F\\u6301\\u7684\\u6309\\u9700\\u6682\\u505C\\u548C\\u6062\\u590D\\u6267\\u884C\\u7684\\u7279\\u6027\\uFF0C\\u6070\\u597D\\u7B26\\u5408\\u5B9E\\u73B0\\u65AD\\u70B9\\u8C03\\u8BD5\\u7684\\u9700\\u6C42\\u3002\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"function* test() {\\n  console.log(\\\"Hello\\\");\\n  yield;\\n  console.log(\\\"World\\\");\\n}\\n\\nconst gen = test();\\ngen.next(); // hello\\ngen.next(); // world\\n\")), mdx(\"p\", null, \"\\u540C\\u65F6\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u8BA9\\u4EE3\\u7801\\u5728\\u8C03\\u8BD5\\u6267\\u884C\\u65F6\\uFF0C\\u662F\\u5F02\\u6B65\\u3001\\u53EF\\u4E2D\\u65AD\\u7684\\uFF0C\\u800C\\u5728\\u6B63\\u5E38\\u6267\\u884C\\u65F6\\uFF0C\\u4F9D\\u7136\\u662F\\u540C\\u6B65\\u7684\\u3002\"), mdx(\"p\", null, \"\\u5728\\u6211\\u4EEC\\u7684\\u89E3\\u91CA\\u5668\\u4E2D\\uFF0C\\u53EF\\u4EE5\\u5148\\u5C06\\u6E90\\u4EE3\\u7801\\u6784\\u9020\\u4E3A\\u4E00\\u4E2A\\u5305\\u542B \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yield\"), \" \\u65AD\\u70B9\\u7684\\u751F\\u6210\\u5668\\u4E2D\\u95F4\\u51FD\\u6570\\uFF0C\\u666E\\u901A\\u8C03\\u7528\\u65F6\\uFF0C\\u4F7F\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"unwind\"), \" \\u540C\\u6B65\\u5C55\\u5F00\\u751F\\u6210\\u7684\\u8FED\\u4EE3\\u5668\\uFF0C\\u56E0\\u6B64\\u8BE5\\u4EE3\\u7801\\u4F9D\\u7136\\u662F\\u540C\\u6B65\\u6267\\u884C\\u7684\\uFF0C\\u800C\\u5728\\u8C03\\u8BD5\\u6A21\\u5F0F\\u4E0B\\uFF0C\\u76F4\\u63A5\\u8FD4\\u56DE\\u751F\\u6210\\u7684\\u8FED\\u4EE3\\u5668\\uFF0C\\u8FD9\\u6837\\u5C31\\u53EF\\u4EE5\\u5B9E\\u73B0\\u65AD\\u70B9\\u8C03\\u8BD5\\u4E86\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"function* intermediate_fn() {\\n  yield;\\n  return 42;\\n}\\n\\nfunction normal_fn() {\\n  return unwind(intermediate_fn());\\n}\\n\\nfunction debugger_fn() {\\n  return intermediate_fn();\\n}\\n\\nfunction unwind(iterator) {\\n  while (true) {\\n    const { done, value } = iterator.next();\\n    if (done) {\\n      return value;\\n    }\\n  }\\n}\\n\")), mdx(\"p\", null, \"\\u6539\\u9020\\u540E\\u7684\\u89E3\\u91CA\\u5668\\u4EE3\\u7801\\u5927\\u6982\\u5982\\u4E0B\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"export function interpret(ast) {\\n  function* Evaluate(node) {\\n    yield; // \\u65AD\\u70B9\\n    \\n    switch (node.type) {\\n      case \\\"CallExpression\\\": {\\n        // \\u4EE3\\u7406 Evaluate \\u904D\\u5386\\u6240\\u751F\\u6210\\u7684\\u8FED\\u4EE3\\u5668\\n        const func = yield* Evaluate(node.callee);\\n        return yield* EvaluateCall(func, node.arguments);\\n      }\\n      // ...\\n    }\\n  }\\n  // ...\\n}\\n\")), mdx(\"p\", null, \"\\u8C03\\u8BD5\\u5668\\u7684\\u542F\\u52A8\\u548C\\u6B65\\u8FDB\\u7684\\u5B9E\\u73B0\\u5C31\\u5F88\\u7B80\\u5355\\u4E86\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"let iterator;\\n\\nconst start = (code) => {\\n  iterator = interpret(parse(code));\\n}\\n\\nconst step = () => {\\n  iterator.next();\\n}\\n\")), mdx(\"p\", null, \"\\u5F53\\u7136\\uFF0C\\u8FD9\\u53EA\\u662F\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u5B9E\\u73B0\\uFF0C\\u5B9E\\u9645\\u4E0A\\uFF0C\\u8C03\\u8BD5\\u5668\\u8FD8\\u9700\\u8981\\u652F\\u6301\\u66F4\\u591A\\u7684\\u529F\\u80FD\\uFF0C\\u5305\\u62EC\\u67E5\\u770B\\u5F53\\u524D\\u6267\\u884C\\u7684\\u4EE3\\u7801\\u4F4D\\u7F6E\\u3001\\u53D8\\u91CF\\u503C\\u3001\\u6807\\u8BB0\\u65AD\\u70B9\\u7B49\\u7B49\\uFF0C\\u672C\\u6587\\u4E0D\\u518D\\u7EC6\\u8FF0\\u3002\"), mdx(\"h2\", {\n    \"id\": \"覆盖率\"\n  }, \"\\u8986\\u76D6\\u7387\"), mdx(\"p\", null, \"\\u53E6\\u5916\\uFF0C\\u7EDF\\u8BA1\\u6D4B\\u8BD5\\u8986\\u76D6\\u7387\\u4E5F\\u662F\\u4E00\\u4E2A\\u975E\\u5E38\\u91CD\\u8981\\u7684\\u5F00\\u53D1\\u4F53\\u9A8C\\uFF0C\\u662F\\u63D0\\u9AD8\\u4EE3\\u7801\\u8D28\\u91CF\\u7684\\u4E3B\\u8981\\u624B\\u6BB5\\u3002\\u6D4B\\u8BD5\\u8986\\u76D6\\u7387\\u4E3B\\u8981\\u8003\\u8651\\u4E09\\u4E2A\\u7EF4\\u5EA6\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u51FD\\u6570\\u8986\\u76D6\\u7387\\uFF1A\\u4EE3\\u7801\\u4E2D\\u7684\\u51FD\\u6570\\u662F\\u5426\\u90FD\\u88AB\\u8C03\\u7528\\u8FC7\\uFF1F\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u8BED\\u53E5\\u8986\\u76D6\\u7387\\uFF1A\\u4EE3\\u7801\\u4E2D\\u7684\\u8BED\\u53E5\\u662F\\u5426\\u90FD\\u88AB\\u6267\\u884C\\u8FC7\\uFF1F\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5206\\u652F\\u8986\\u76D6\\u7387\\uFF1A\\u4EE3\\u7801\\u4E2D\\u7684\\u5206\\u652F\\u662F\\u5426\\u90FD\\u88AB\\u8986\\u76D6\\u8FC7\\uFF1F\")), mdx(\"p\", null, \"\\u4F20\\u7EDF\\u7684\\u6D4B\\u8BD5\\u8986\\u76D6\\u7387\\u7EDF\\u8BA1\\u5DE5\\u5177\\uFF0C\\u901A\\u5E38\\u662F\\u901A\\u8FC7\\u5728\\u4EE3\\u7801\\u4E2D\\u63D2\\u5165\\u8BA1\\u6570\\u5668\\uFF0C\\u8BB0\\u5F55\\u6BCF\\u4E2A\\u4EE3\\u7801\\u5757\\u88AB\\u6267\\u884C\\u7684\\u6B21\\u6570\\uFF0C\\u6700\\u540E\\u751F\\u6210\\u62A5\\u544A\\u3002\\u5B83\\u672C\\u8D28\\u4E0A\\u662F\\u6539\\u53D8\\u4E86\\u5B9E\\u9645\\u6267\\u884C\\u7684\\u4EE3\\u7801\\uFF0C\\u4F8B\\u5982\\u88AB Jest \\u7B49\\u6D4B\\u8BD5\\u5DE5\\u5177\\u96C6\\u6210\\u7684 \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://istanbul.js.org/\"\n  }), \"istanbul\"), \" \\uFF0C\\u5728\\u6267\\u884C\\u65F6\\u4F1A\\u5C06\\u4EE5\\u4E0B\\u6E90\\u4EE3\\u7801\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"function test(input = 0) {  \\n  if (input) {\\n    return true;\\n  }\\n  return input ? 1 : 0;\\n}\\n\")), mdx(\"p\", null, \"\\u8F6C\\u6362\\u4E3A\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"function test(\\n  input = (cov_159mw6va2c().b[0][0]++, 0)  \\n) {\\n  cov_159mw6va2c().f[0]++;\\n  cov_159mw6va2c().s[0]++;\\n  if (input) {\\n    cov_159mw6va2c().b[1][0]++;\\n    cov_159mw6va2c().s[1]++;\\n    return true;\\n  } else {\\n    cov_159mw6va2c().b[1][1]++;\\n  }\\n  cov_159mw6va2c().s[2]++;\\n  return input\\n    ? (cov_159mw6va2c().b[2][0]++, 1)\\n    : (cov_159mw6va2c().b[2][1]++, 0);\\n}\\n\")), mdx(\"p\", null, \"\\u800C\\u7531\\u4E8E\\u6211\\u4EEC\\u7684\\u89E3\\u91CA\\u5668\\u662F\\u81EA\\u5DF1\\u5B9E\\u73B0\\u7684\\uFF0C\\u5B9E\\u73B0\\u6D4B\\u8BD5\\u8986\\u76D6\\u7387\\u7684\\u7EDF\\u8BA1\\u66F4\\u4E3A\\u7B80\\u5355\\uFF0C\\u53EA\\u9700\\u8981\\u5728\\u904D\\u5386\\u62BD\\u8C61\\u8BED\\u6CD5\\u6811\\u65F6\\uFF0C\\u52A0\\u5165\\u94A9\\u5B50\\u5373\\u53EF\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const shouldCover = [];\\nconst covered = [];\\n\\nconst ast = parse(source); \\n\\nwalk(ast, {\\n  hooks: {\\n    beforeVisit(node) {\\n      shouldCover.push(node);\\n    }\\n  }\\n});\\n\\nfor (const test of testCases) {\\n  const func = intercept(ast, {\\n    hooks: {\\n      beforeEvaluate(node) {\\n        covered.push(node);\\n      }\\n    }\\n  });\\n  func.apply(null, test.input);\\n}\\n\\nconst coverage = collect(shouldCover, covered);\\n\")), mdx(\"hr\", {\n    className: \"divider\"\n  }), mdx(\"p\", null, \"\\u597D\\u4E86\\uFF0C\\u73B0\\u5728\\u6211\\u4EEC\\u5DF2\\u7ECF\\u638C\\u63E1\\u4E86\\u57FA\\u672C\\u7684\\u65B9\\u6CD5\\u53BB\\u5B9E\\u73B0\\u4E00\\u4E2A JavaScript \\u6C99\\u76D2\\uFF0C\\u5E76\\u652F\\u6301\\u5355\\u6B65/\\u65AD\\u70B9\\u8C03\\u8BD5\\uFF0C\\u4EE5\\u53CA\\u7EDF\\u8BA1\\u6D4B\\u8BD5\\u8986\\u76D6\\u7387\\uFF0C\\u6709\\u5174\\u8DA3\\u7684\\u540C\\u5B66\\u53EF\\u4EE5\\u5728\\u7EBF\\u4F53\\u9A8C\\u4E00\\u4E0B\\u8FD9\\u4E2A \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://codesandbox.io/p/sandbox/tiny-js-sandbox-app-f2dn8z?file=%2Fsrc%2Fcook.js\"\n  }), \"Demo\"), \"\\uFF0C\\u5E76\\u8BD5\\u7740\\u6539\\u8FDB\\u5176\\u4E2D\\u7684\\u89E3\\u91CA\\u5668\\u3002\"));\n}\n;\nMDXContent.isMDXComponent = true;","slug":"/implementing-a-javascript-sandbox/","title":"实现一个 JavaScript Sandbox","tags":[],"date":"July 06, 2024","image":null,"imageAlt":null,"socialImage":null},"previous":{"__typename":"MdxBlogPost","id":"07e9cd90-3b32-52f4-8621-a776e065cc5b","excerpt":"百度一下，你就知道；谷歌一下，你知道的太多了。 在工作中的一个项目里，我在文档系统  Docusaurus v2  之上实现了一个支持多语言的（针对中文文档有特别优化的）、离线/本地的全文搜索插件，托管在 GitHub 上： https://github.com/easyops…","slug":"/multilingual-full-text-search/","title":"多语言全文搜索","date":"October 25, 2020"},"next":null},"pageContext":{"id":"8faf3863-a266-5369-8ca4-6af8b7da2eed","previousId":"07e9cd90-3b32-52f4-8621-a776e065cc5b","maxWidth":1380}},"staticQueryHashes":["2744905544","3090755652","386998304","764694655"]}